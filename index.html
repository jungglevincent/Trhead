<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Thread Simulation</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-4">
  <!-- Collapsible Explanation Section -->
  <div class="mb-6">
    <button id="toggleInfo" class="flex items-center text-blue-600 font-semibold mb-2">
      <span id="arrow" class="transform rotate-180 transition-transform duration-300">&#x25BC;</span>
      <span class="ml-2">Penjelasan Thread</span>
    </button>
    <div id="infoSection" class="bg-white p-4 rounded shadow transition-all duration-300">
      <h2 class="text-xl font-bold mb-2">Apa itu Thread?</h2>
      <p class="mb-2">Thread adalah unit eksekusi terkecil dalam sebuah program. Dalam satu proses, bisa ada satu atau banyak thread.</p>
      <h3 class="font-semibold mt-2">Perbedaan Utama:</h3>
      <ul class="list-disc list-inside">
        <li><strong>Single Thread</strong>: Hanya satu alur eksekusi.</li>
        <li><strong>Multi Thread</strong>: Banyak alur eksekusi yang berjalan bersamaan.</li>
        <li><strong>Synchronous</strong>: Menunggu proses sebelumnya selesai.</li>
        <li><strong>Asynchronous</strong>: Tidak harus menunggu, bisa lanjut langsung ke proses berikutnya.</li>
      </ul>
    </div>
  </div>  <!-- Simulation Modes -->  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <div class="bg-white p-4 rounded shadow">
      <h3 class="font-bold mb-2">1. Single Thread - Synchronous</h3>
      <div class="flex flex-col gap-2" id="singleSync"></div>
    </div>
    <div class="bg-white p-4 rounded shadow">
      <h3 class="font-bold mb-2">2. Single Thread - Asynchronous</h3>
      <div class="flex flex-col gap-2" id="singleAsync"></div>
    </div>
    <div class="bg-white p-4 rounded shadow">
      <h3 class="font-bold mb-2">3. Multi Thread - Synchronous</h3>
      <div class="flex flex-col gap-2" id="multiSync"></div>
    </div>
    <div class="bg-white p-4 rounded shadow">
      <h3 class="font-bold mb-2">4. Multi Thread - Asynchronous</h3>
      <div class="flex flex-col gap-2" id="multiAsync"></div>
    </div>
  </div>  <script>
    // Toggle penjelasan section
    const toggleBtn = document.getElementById("toggleInfo");
    const infoSection = document.getElementById("infoSection");
    const arrow = document.getElementById("arrow");

    toggleBtn.addEventListener("click", () => {
      const isHidden = infoSection.classList.toggle("hidden");
      arrow.classList.toggle("rotate-180");
    });

    // Helper: delay
    const delay = ms => new Promise(res => setTimeout(res, ms));

    // Simulasi customer
    const createCustomer = (name) => {
      const div = document.createElement("div");
      div.className = "bg-blue-100 p-2 rounded text-sm";
      div.textContent = name;
      return div;
    };

    async function singleThreadSync() {
      const container = document.getElementById("singleSync");
      container.innerHTML = "";
      for (let i = 1; i <= 5; i++) {
        const c = createCustomer(`Customer ${i} dilayani...`);
        container.appendChild(c);
        await delay(1000 + Math.random() * 1000);
        c.textContent = `Customer ${i} selesai`;
      }
    }

    async function singleThreadAsync() {
      const container = document.getElementById("singleAsync");
      container.innerHTML = "";
      for (let i = 1; i <= 5; i++) {
        const c = createCustomer(`Customer ${i} dalam antrean...`);
        container.appendChild(c);
        (async () => {
          await delay(1000 + Math.random() * 1000);
          c.textContent = `Customer ${i} selesai`;
        })();
      }
    }

    async function multiThreadSync() {
      const container = document.getElementById("multiSync");
      container.innerHTML = "";
      for (let t = 1; t <= 3; t++) {
        const threadDiv = document.createElement("div");
        threadDiv.className = "border border-gray-400 p-2 mb-2";
        threadDiv.innerHTML = `<strong>Pelayan ${t}</strong>`;
        container.appendChild(threadDiv);
        (async () => {
          for (let i = 1; i <= 2; i++) {
            const c = createCustomer(`P${t}-${i} dilayani...`);
            threadDiv.appendChild(c);
            await delay(1000 + Math.random() * 1000);
            c.textContent = `P${t}-${i} selesai`;
          }
        })();
      }
    }

    async function multiThreadAsync() {
      const container = document.getElementById("multiAsync");
      container.innerHTML = "";
      for (let t = 1; t <= 3; t++) {
        const threadDiv = document.createElement("div");
        threadDiv.className = "border border-gray-400 p-2 mb-2";
        threadDiv.innerHTML = `<strong>Pelayan ${t}</strong>`;
        container.appendChild(threadDiv);
        for (let i = 1; i <= 2; i++) {
          const c = createCustomer(`P${t}-${i} dalam antrean...`);
          threadDiv.appendChild(c);
          (async () => {
            await delay(1000 + Math.random() * 1000);
            c.textContent = `P${t}-${i} selesai`;
          })();
        }
      }
    }

    // Jalankan semua simulasi
    singleThreadSync();
    singleThreadAsync();
    multiThreadSync();
    multiThreadAsync();
  </script></body>
</html>
